@model ProductPostDto

    <style>
        .form-group {
            margin-bottom: 10px;
        }
    </style>
    <div class="page-body">
        <!-- New Product Add Start -->
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="row">
                        <div class="col-sm-8 m-auto">
                            <div class="card">
                                <div class="card-body">
                                    <div class="card-header-2">
                                        <h5>Product Information</h5>
                                    </div>
                                    <form enctype="multipart/form-data" method="post">
                                        <div class="alert alert-info" asp-validation-summary="ModelOnly"></div>
                                        <div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="Title" class="form-label-title col-sm-3 mb-0">Product Title</label>
                                            <div class="col-sm-9">
                                                <input asp-for="Title" class="form-control" type="text" placeholder="Product Title">
                                                <span class="text text-danger" asp-validation-for="Title"></span>
                                            </div>
                                        </div>
                                        <div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="Description" class="form-label-title col-sm-3 mb-0">Product Description</label>
                                            <div class="col-sm-9">
                                                <input asp-for="Description" class="form-control" type="text" placeholder="Product Description">
                                                <span class="text text-danger" asp-validation-for="Description"></span>
                                            </div>
                                        </div>
                                        <div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="Info" class="form-label-title col-sm-3 mb-0">Product Info</label>
                                            <div class="col-sm-9">
                                                <input asp-for="Info" class="form-control" type="text" placeholder="Product Info">
                                                <span class="text text-danger" asp-validation-for="Info"></span>
                                            </div>
                                        </div>
                                        <div class="mb-4 row align-items-center">
                                            <label class="col-sm-3 col-form-label form-label-title">In Stock</label>
                                            <div style="width:75%" class="form-group">
                                                <select asp-for="InStock" class="form-select" aria-label="Default select example">
                                                    <option selected>InStock or IsNotInStock</option>
                                                    <option value="true">InStock</option>
                                                    <option value="false">IsNotInStock</option>
                                                </select>
                                                <span class="text text-danger" asp-validation-for="InStock"></span>
                                            </div>
                                        </div>
                                        <div class="mb-4 row align-items-center">
                                            <label class="col-sm-3 col-form-label form-label-title">Is Organic</label>
                                            <div style="width:75%" class="form-group">
                                                <select asp-for="IsOrganic" class="form-select" aria-label="Default select example">
                                                    <option selected>Organic or Not</option>
                                                    <option value="true">Organic</option>
                                                    <option value="false">Non-Organic</option>
                                                </select>
                                                <span class="text text-danger" asp-validation-for="IsOrganic"></span>
                                            </div>
                                        </div>
                                        <div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="Price" class="form-label-title col-sm-3 mb-0">Product Price</label>
                                            <div class="col-sm-9">
                                                <input asp-for="Price" class="form-control" type="text" placeholder="Product Price">
                                                <span class="text text-danger" asp-validation-for="Price"></span>
                                            </div>
                                        </div>
                                        <div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="DiscountPercent" class="form-label-title col-sm-3 mb-0">DiscountPercent</label>
                                            <div class="col-sm-9">
                                                <input asp-for="DiscountPercent" class="form-control" type="text" placeholder="DiscountPercent">
                                                <span class="text text-danger" asp-validation-for="DiscountPercent"></span>
                                            </div>
                                        </div>
                                        <div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="PeriodOfUse" class="form-label-title col-sm-3 mb-0">Product PeriodOfUse</label>
                                            <div class="col-sm-9">
                                                <input asp-for="PeriodOfUse" class="form-control" type="text" placeholder="Product PeriodOfUse">
                                                <span class="text text-danger" asp-validation-for="PeriodOfUse"></span>
                                            </div>
                                        </div>
                                        @*<div style="align-items:center" class="mb-4 row align-items-center">
                                            <label asp-for="DiscountPrice" class="form-label-title col-sm-3 mb-0">Product DiscountPrice</label>
                                            <div class="col-sm-9">
                                                <input asp-for="DiscountPrice" class="form-control" type="text" placeholder="Product DiscountPrice">
                                                <span class="text text-danger" asp-validation-for="DiscountPrice"></span>
                                            </div>
                                        </div>*@

                                        <div style="margin:50px 0px" class="form-group ">
                                            <div style="display:flex">
                                                <label style="margin-right:5px" class="col-sm-3 col-lg-3 col-form-label form-label-title">Main Images</label>
                                                <input multiple accept="image/*" asp-for="MainImage" class="form-control" placeholder="MainImage">
                                            </div>
                                            <span style="margin-top:10px" class="text text-danger" asp-validation-for="MainImage"></span>
                                        </div>
                                        <div style="margin:50px 0px" class="form-group ">
                                            <div style="display:flex">
                                                <label style="margin-right:5px" class="col-sm-3 col-lg-3 col-form-label form-label-title">Addition Images</label>
                                                <input multiple accept="image/*" asp-for="ProductImageFiles" class="form-control" placeholder="AdditionImages">
                                            </div>
                                            <span style="margin-top:10px" class="text text-danger" asp-validation-for="ProductImageFiles"></span>
                                        </div>


                                        <div class="mb-4 row align-items-center">
                                            <label class="col-sm-3 col-form-label form-label-title">Category</label>
                                            <div style="width:75%" class="form-group">
                                                <select asp-for="CategoryId" class="form-select" aria-label="Default select example">
                                                    <option selected>Categories</option>
                                                    @foreach (var item in ViewBag.Categories)
                                                    {
                                                        if (item.ParentCategoryId == null)
                                                        {
                                                            <option value="@item.Id">@item.Name</option>
                                                        }
                                                    }
                                                </select>
                                                <span class="text text-danger" asp-validation-for="CategoryId"></span>
                                            </div>
                                        </div>
                                        <div class="mb-4 row align-items-center">
                                            <label class="col-sm-3 col-form-label form-label-title">Brand</label>
                                            <div style="width:75%" class="form-group">
                                                <select asp-for="BrandId" class="form-select" aria-label="Default select example">
                                                    <option selected>Brands</option>
                                                    @foreach (var item in ViewBag.Brands)
                                                    {

                                                        <option value="@item.Id">@item.Name</option>

                                                    }
                                                </select>
                                                <span class="text text-danger" asp-validation-for="BrandId"></span>
                                            </div>
                                        </div>
                                        <div class="mb-4 row align-items-center">
                                            <label class="col-lg-3 col-form-label form-label-title">Multiple Tags</label>
                                            <div class="col-lg-9">
                                                <div class="form-group">
                                                    <select asp-for="TagIds" class="form-select" aria-label="Default select example">

                                                        @foreach (var item in ViewBag.Tags)
                                                        {
                                                            <option value="@item.Id">@item.Name</option>
                                                        }
                                                    </select>
                                                    <span class="text text-danger" asp-validation-for="TagIds"></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div method="post" class="form-group" id="form-container">
                                            <label style="margin-bottom:20px" class="form-label-title">Specification Keys and Values</label>
                                            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
                                                <input style="margin-right:5px" class="form-control key "  type="text" placeholder="Key" asp-for="SpecificationKeys">
                                                <span asp-validation-for="SpecificationKeys"></span>
                                                <input style="margin-right:5px" class="form-control value"  type="text"  placeholder="Value" asp-for="SpecificationValues">
                                                <span asp-validation-for="SpecificationValues"></span>
                                                <button  style="font-size:20px;padding:5px 10px;margin-right:5px" type="button" class="add-btn btn-primary">+</button>
                                                <button style="font-size:20px;padding:5px 10px;margin-right:5px" type="button" class="remove-btn btn-primary">-</button>
                                            </div>
                                         
                                        </div>



                                        <div style="display:flex;justify-content:space-around" class="buttons">
                                            <button type="submit" class="btn btn-primary me-2">Submit</button>
                                            <button class="btn btn-light">Cancel</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>document.addEventListener('DOMContentLoaded', function () {
            const formContainer = document.getElementById('form-container');

            // Function to add new form group
            function addFormGroup() {
                const formGroup = document.createElement('div');
                formGroup.classList.add('form-group');
                formGroup.innerHTML = `
                       <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
                                                <input style="margin-right:5px" class="form-control"  type="text" class="key" placeholder="Key" asp-for="SpecificationKeys">
                                                <span asp-validation-for="SpecificationKeys"></span>
                                                <input style="margin-right:5px" class="form-control"  type="text" class="value" placeholder="Value" asp-for="SpecificationValues">
                                                <span asp-validation-for="SpecificationValues"></span>
                                                <button style="font-size:20px;padding:5px 10px;margin-right:5px"type="button" class="add-btn btn-primary">+</button>
                                                <button style="font-size:20px;padding:5px 10px;margin-right:5px" type="button" class="remove-btn btn-primary">-</button>
                                            </div>
                `;
                formContainer.appendChild(formGroup);

                // Attach event listeners to the buttons in the new form group
                const addBtns = document.querySelectorAll('.add-btn');
                const removeBtns = document.querySelectorAll('.remove-btn');
                addBtns.forEach(btn => btn.addEventListener('click', addFormGroup));
                removeBtns.forEach(btn => btn.addEventListener('click', removeFormGroup));
            }

            // Function to remove form group
            function removeFormGroup(event) {
                const formGroup = event.target.closest('.form-group');
                if (formGroup !== null && formContainer.children.length > 1) {
                    formContainer.removeChild(formGroup);
                }
            }

            // Attach event listener to the button in the initial form group
            const addBtn = document.querySelector('.add-btn');
            addBtn.addEventListener('click', addFormGroup);
            const removeBtn = document.querySelector('.remove-btn');
            removeBtn.addEventListener('click', removeFormGroup);
        });</script>

    @*<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>$(document).ready(function () {
            $('#specForm').submit(function (event) {
                // Prevent the default form submission behavior
                event.preventDefault();

                // Serialize form data
                var formData = $(this).serialize();

                // Perform an AJAX request to submit the form data
                $.ajax({
                    type: 'POST',
                    url: 'your_submit_url_here',
                    data: formData,
                    success: function (response) {
                        // Handle the response, if needed
                        console.log('Form submitted successfully');

                        // You can update the UI or perform any other actions here
                    },
                    error: function (xhr, status, error) {
                        // Handle errors
                        console.error('Form submission failed:', error);
                    }
                });
            });
        });</script>*@






